{
    auto_https off
}

:80 {
    # 1. API æ¥å£è½¬å‘
    handle /api/* {
        reverse_proxy api:4000
    }

    # 2. ğŸ”¥ æ–°å¢ï¼šå›¾ç‰‡èµ„æºè½¬å‘ (MinIO)
    # æŠŠè®¿é—® /novel-assets/ çš„è¯·æ±‚è½¬ç»™ minio å®¹å™¨
    handle /novel-assets/* {
        reverse_proxy minio:9000
    }

    # 3. å‰ç«¯é¡µé¢è½¬å‘
    handle {
        reverse_proxy web:3000
    }

    log {
        output file /var/log/caddy/access.log
    }
}
